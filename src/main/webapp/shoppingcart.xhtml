<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Add products to order screen</title>
</h:head>
<h:body>
    <div>
        <a href="index.xhtml">Back to Main page</a>
    </div>
    <br/>
    <h3>Products in order:</h3>
    <ul>
        <ui:repeat value="#{shoppingCartProductsMyBatis.products}" var="product">
            <li>#{product.name}</li>
        </ui:repeat>
    </ul>

    <h3>Edit order:</h3>
    <h:form>
        <h:selectManyCheckbox value="#{shoppingCartProductsMyBatis.productIds}">
            <f:selectItems value="#{products.allProducts}" var="product" itemLabel="#{product.name}" itemValue="#{product.id}" />
        </h:selectManyCheckbox>
        <br />
        <h:commandButton value="Save" action="#{shoppingCartProductsMyBatis.updateProducts()}">
            <f:param name="shoppingCartId" value="#{shoppingCartProductsMyBatis.shoppingCartId}"/>
            <f:param name="customerId" value="#{shoppingCartProductsMyBatis.customerId}"/>
        </h:commandButton>
        <h:commandButton value="Delete order" action="#{shoppingCarts.removeShoppingCart(shoppingCartProductsMyBatis.shoppingCartId)}">
            <f:param name="shoppingCartId" value="#{shoppingCartProductsMyBatis.shoppingCartId}"/>
            <f:param name="customerId" value="#{shoppingCartProductsMyBatis.customerId}"/>
        </h:commandButton>
    </h:form>
    <br/>
    <div>
        <a href="customers.xhtml?customerId=#{shoppingCartProductsMyBatis.customerId}">Back</a>
    </div>
</h:body>
</html>